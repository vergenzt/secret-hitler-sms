Resources:

  ApiCertificate:
    Type: AWS::CertificateManager::Certificate
    DeletionPolicy: Retain
    Properties:
      DomainName: ${param:apiDomain}
      ValidationMethod: DNS

  ApiDomainName:
    Type: AWS::ApiGatewayV2::DomainName
    DeletionPolicy: Retain
    Properties:
      DomainName: ${param:apiDomain}
      DomainNameConfigurations:
      - CertificateArn: { Ref: ApiCertificate }
